function y(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}(function(e){"use strict";var n;var r=["AED","ARS","AUD","BIF","CAD","CDF","CFA","CHF","CVE","CZK","DKK","DOP","ETB","EUR","GBP","GHS","GMD","GNF","HKD","IDR","ILS","JPY","KES","KRW","LKR","LRD","MOP","MUR","MWK","MYR","MZN","NGN","NOK","NZD","PHP","RUB","RWF","SAR","SEK","SGD","SLL","STD","THB","TWD","TZS","UGX","USD","XAF","XOF","ZAR","ZMK","ZMW","ZWD"];var t=["BIF","CLP","DJF","GNF","ISK","JPY","KMF","KRW","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF"];var f=["EUR","GBP","NGN","USD","ZAR"];function c(){}function i(e){e=Number(typeof e==="string"?e.trim():e);if(Number.isNaN(e)||e<0){throw new TypeError("Invalid amount")}return e}function l(e,t){if(typeof e==="string"&&(e=e.trim().toUpperCase())){t=Array.isArray(t)&&t.length?t:r;if(t.includes(e))return e}throw new TypeError("Invalid currency")}function m(e,t){var r=typeof t==="function"?t.length?{setter:t}:{getter:t}:Object.prototype.toString.call(t)==="[object Object]"?t:{},n=r.getter,i=r.setter,u=r.extendable,o=u===void 0?arguments[2]:u;Object.defineProperty(this,e,{enumerable:true,configurable:o===true,get:typeof n==="function"?n.bind(this):c,set:typeof i==="function"?i.bind(this):c})}function u(t){return{enumerable:true,value:function r(e){try{this[t]=i(e)}finally{return this}}}}function o(e,t){return Object.defineProperties(e,Object.fromEntries(Object.entries(t).map(function(e){var t=e[0],r=e[1];return[t,{enumerable:true,value:r}]})))}function b(e,t){this.base=i(e);this.currency=l(t);var r=m.bind(this);r("computed",function(){return this.base},true)}Object.defineProperties(b.prototype,{valueOf:{enumerable:true,value:function a(){var e=t.includes(this.currency)?0:2;return Number(new Intl.NumberFormat("en-US",{style:"decimal",useGrouping:false,minimumFractionDigits:e,maximumFractionDigits:e}).format(this.computed))}},toString:{enumerable:true,value:function a(){var e=new Intl.NumberFormat("en-US",{style:"decimal",useGrouping:true}).format(this.valueOf());return this.currency+" "+e}}});function h(e,t){b.call(this,e,t);this.fee=0;this.discount=0;var r=m.bind(this);r("computed",function(){return this.base+this.fee-this.discount},true)}h.prototype=Object.create(b.prototype,{constructor:{value:h},updateFee:u("fee"),updateDiscount:u("discount")});function d(e){if(y(n,d)){return n}if(!y(this,d)){return new d(e)}var t=m.bind(n=this);var i;var u;var o;var c;var a;t("currency",{getter:function r(){return o},setter:function s(e){if(!o){o=l(e);c={};a=Array.from(new Set([].concat(f,[o])))}else{try{e=l(e,a);var t=u.base;var r=Number(c[e]);r=e===o||Number.isNaN(r)?1:r;i=new h(t*r,e)}catch(n){}}}});t("initialAmount",{getter:function r(){return u},setter:function s(e){if(!o){throw new Error("Currency not defined")}u=new b(e,o);i=new h(e,o)}});t("chargeAmount",{getter:function r(){return i},setter:function s(){if(!o){throw new Error("Currency not defined")}}})}o(d,{CURRENCIES:r,DCC_CURRENCIES:f,ROUNDED_CURRENCIES:t});o(e,{$manager:new d})})(typeof self!=="undefined"?self:this);
